<!DOCTYPE html>
<html><head>
  <meta charset="utf-8" />
  <title>
    
      Blog de TaylorDeDordogne
      | Plombier du c√¢ble &amp; Gestionnaire de perruche de Sparrman
    
  </title>
  <meta name="author" content="map[email:taylordedordogne@gmail.com name:TaylorDeDordogne]" />
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <link
    rel="icon"
    href="/favicon_io/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="icon"
    href="/favicon_io/favicon-16x16.png"
    size="16x16"
    type="image/png"
  />
  <link
    rel="icon"
    href="/favicon_io/favicon-32x32.png"
    size="32x32"
    type="image/png"
  />

  
  <link
    rel="alternate"
    type="application/rss+xml"
    href="https://nudistbeaaach.github.io//index.xml"
    title="Blog de TaylorDeDordogne"
  />

  <link
    rel="preload"
    type="text/css"
    href="/css/rose-pine.min.css"
    integrity=""
    as="style"
    onload="this.onload=null;this.rel='stylesheet'"
  />
  <noscript>
    <link
      rel="stylesheet"
      type="text/css"
      href="/css/rose-pine.min.css"
      integrity=""
    />
  </noscript><link rel="preconnect" href="https://fonts.googleapis.com" /><link
  rel="preconnect"
  href="https://fonts.gstatic.com"
  crossorigin
/><link
  href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;700&family=Roboto+Mono:wght@400;500;700&display=swap"
  rel="stylesheet"
/>
<link
    rel="preload"
    type="text/css"
    href="__h_pp_l1_1_RelPermalink__e="
    integrity="__h_pp_l1_1_Data.Integrity__e="
    as="style"
    onload="this.onload=null;this.rel='stylesheet'"
  />
  <noscript>
    <link
      rel="stylesheet"
      type="text/css"
      href="__h_pp_l1_1_RelPermalink__e="
      integrity="__h_pp_l1_1_Data.Integrity__e="
    />
  </noscript>

  
  <link
    rel="stylesheet"
    type="text/css"
    href="__h_pp_l1_2_RelPermalink__e="
    integrity="__h_pp_l1_2_Data.Integrity__e="
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="__h_pp_l1_3_RelPermalink__e="
    integrity="__h_pp_l1_3_Data.Integrity__e="
  />

  <script>
    
    if (
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
  </script>

  
  
  <script
    defer
    src="/js/main.dfa968b06ebe7fb755eb156f7296445f20bd5ca0c82aa2eb755b1bfac4e2f294676471cf7670590073c364901a0dd5dc4b4c7b83f7a4a3c3b081f085c78fa1de.js"
    integrity="sha512-36losG6&#43;f7dV6xVvcpZEXyC9XKDIKqLrdVsb&#43;sTi8pRnZHHPdnBZAHPDZJAaDdXcS0x7g/eko8OwgfCFx4&#43;h3g=="
  ></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({ startOnLoad: true, securityLevel: "loose" });
  </script>
  
  
</head>
<body><header style="--layer: 10">
  <div
    aria-hidden="true"
    class="absolute top-[-1000px] left-0 z-[calc(var(--layer)+1)] h-[calc(1000px+var(--page-top))] w-full bg-base"
  ></div>

  <div
    class="fixed top-0 left-0 z-[var(--layer)] flex h-header-height w-full items-center border-b px-page-gutter before:absolute before:inset-0 before:z-[-1] before:bg-base [@supports(backdrop-filter:blur(0))]:before:bg-base [@supports(backdrop-filter:blur(0))]:before:backdrop-blur-md"
  ><div
  class="lowercase italic mx-auto flex w-full max-w-content items-center justify-between"
>
  <nav>
    <ol class="flex text-md items-center">
      
  
    
  
    
  
  
  
  <li>
    
    
    <a href="/" class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Blog de TaylorDeDordogne</a>
  </li>
  
    <li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li>
  

  
  
  
  <li>
    
    
    <a href="/write-ups/" class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Write ups</a>
  </li>
  
    <li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li>
  

  
  
  
    
  
  <li>
    
    
    <a href="/write-ups/plombier-du-c%C3%A2ble-gestionnaire-de-perruche-de-sparrman/" class="focus:underline focus:outline-none font-bold after:md:mx-2 after:mx-0.5">Plombier du c√¢ble &amp; Gestionnaire de perruche de Sparrman</a>
  </li>
  

    </ol>
  </nav>
  <nav>
    <a href="https://nudistbeaaach.github.io//index.xml"
      ><svg
        width="18px"
        height="18px"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"
        />
      </svg>
    </a>
  </nav>
</div>


</div>
</header>
<main class="flex justify-center px-page-gutter py-page-top">
      <div class="min-h-content w-full max-w-content space-y-10 sm:space-y-20"><div
  class="lowercase italic mx-auto flex w-full max-w-content items-center justify-between"
>
  <nav>
    <ol class="flex text-md items-center">
      
  
    
  
    
  
  
  
  <li>
    
    
    <a href="/" class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Blog de TaylorDeDordogne</a>
  </li>
  
    <li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li>
  

  
  
  
  <li>
    
    
    <a href="/write-ups/" class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Write ups</a>
  </li>
  
    <li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li>
  

  
  
  
    
  
  <li>
    
    
    <a href="/write-ups/plombier-du-c%C3%A2ble-gestionnaire-de-perruche-de-sparrman/" class="focus:underline focus:outline-none font-bold after:md:mx-2 after:mx-0.5">Plombier du c√¢ble &amp; Gestionnaire de perruche de Sparrman</a>
  </li>
  

    </ol>
  </nav>
  <nav>
    <a href="https://nudistbeaaach.github.io//index.xml"
      ><svg
        width="18px"
        height="18px"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"
        />
      </svg>
    </a>
  </nav>
</div>


<article>
  <h1>Plombier du c√¢ble & Gestionnaire de perruche de Sparrman</h1>
  <time class="text-sm italic tabular-nums text-muted"
  >2023/06/10&nbsp;</time
>

  

  
    <div class="section">
      
        
        <a href="/tags/rf/" id="tag">RF</a>
      
        
        <a href="/tags/404ctf-2023/" id="tag">404CTF 2023</a>
      
    </div>
  


  
    
      <details>
        <summary>Table of contents</summary>
        <div id="toc-list"><nav id="TableOfContents">
  <ol>
    <li><a href="#plombier-du-c√¢ble">Plombier du c√¢ble</a>
      <ol>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#analyse-du-signal">Analyse du signal</a></li>
      </ol>
    </li>
    <li><a href="#gestionnaire-de-perruche-de-sparrman">Gestionnaire de perruche de Sparrman</a>
      <ol>
        <li><a href="#introduction-1">Introduction</a></li>
        <li><a href="#rappel-sur-le-gps">Rappel sur le GPS</a></li>
        <li><a href="#d√©codage-de-la-trame-gps">D√©codage de la trame GPS</a></li>
      </ol>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ol>
</nav></div>
      </details>
    
  
  <div class="content"><h2 id="plombier-du-c√¢ble">Plombier du c√¢ble</h2>
<h3 id="introduction">Introduction</h3>
<p>Ce challenge de RF assez original exploitait une particularit√© des c√¢bles <code>HDMI</code> qui permettait de faire de l'<code>eavesdropping</code> du contenu d&rsquo;un √©cran, l&rsquo;√©nonc√© se pr√©sentait comme ceci:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt">Nous y voil√†. Il est encore t√¥t dans la matin√©e du 3e martis du mois Kankin. √Ä votre table en bois d&#39;acajou, vous retrouvez vos resplendissants compagnons Alexandre et Simone. Vous entendez la fin du r√©cit de monsieur DUMAS sur la derni√®re pi√®ce de th√©√¢tre √† laquelle il a pu assister. Ce dernier d√©veloppe en effet un amour tout particulier pour le th√©√¢tre depuis ces jeunes ann√©es, o√π il √©crivit un drame historique : Henri III et sa cour.

Le temps, √† l&#39;image d&#39;un sablier, s&#39;√©coule tranquillement.

Notre trio, autour de leur quatri√®me pause caf√© de la douce matin√©e, ont l&#39;air bien nerveux, mais toutefois portent un air rempli de fourberie. Ils ont enfin eu l&#39;√©clair de g√©nie pour espionner l&#39;inf√¢me coll√®gue : un plan aux aspects loufoque, mais qui attire vivement votre attention.

Simone DE BEAUVOIR est une figure d&#39;intelligence. Son p√®re lui disait qu&#39;elle aurait pu faire Polytechnique si elle √©tait un homme.

Elle vous explique le d√©tail de l&#39;affaire : p√©n√©trer dans la plus grande l√©galit√© chez notre victime, d√©ployer une antenne et √©couter. Mais vu votre talent pour le moins inexistant en mati√®re de discr√©tion, votre mission sera juste de traiter le signal une fois acquis.

C&#39;est ainsi, durant cette journ√©e dont le temps ne se manifeste guerre au beau, dans ce petit caf√© coquet o√π se situe notre √©nergum√®ne, situ√© rue de l&#39;ancienne com√©die, dans une petite ville de France, d&#39;une superficie de 105.40 hectares, que nos deux h√©ro√Øques figures repr√©sentant le combat contre la mesquinerie, Alexandre et Simone, d√©ploy√®rent leur antenne directive de 10 cm, dans l&#39;objectif d&#39;intercepter les communications afin que VOUS les traitiez pour d√©couvrir la sombre, tenace et in√©luctable v√©rit√©.
</code></pre></div><p>le challenge fournissait avec cel√† deux fichiers:</p>
<ul>
<li>Une archive contenant le fichier du signal (<code>capture_plombier.raw</code>)</li>
<li>Un fichier pdf contenant des informations suppl√©mentaires sur notre cible</li>
</ul>
<p>Voil√† le contenu du pdf:</p>
<div>
    <img src="assets/pdf.PNG", style="max-width:100%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>On y apprend plusieurs choses, certaines comme la fr√©quence d&rsquo;√©chantillonage semblent pertinentes tandis que d&rsquo;autres comme la longueur de l&rsquo;antenne ou le mod√®le de l&rsquo;√©cran semblent assez d√©risoires (On verra plus tard que c&rsquo;√©tait pas forc√©ment le cas üòâ).</p>
<h3 id="analyse-du-signal">Analyse du signal</h3>
<p>On rentre le signal dans <code>GnuRadio</code> pour afficher la <code>FFT</code> et la <code>Constellation</code>, et on obtient ceci:</p>
<div>
    <img src="assets/recon.png", style="max-width:150%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>Une constellation qui s&rsquo;apparente √† du <code>FM</code>, mais non seulement la FFT ne ressemble pas du tout √† un spectre FM, mais la fr√©quence est
de l&rsquo;ordre de la centaine de kHz et pas de la centaine de MHz ce qui ne correspond pas au bandes FM traditionnelles. Apr√®s avoir tout de m√™me tent√© de d√©moduler avec les principaux types de modulations sans succ√®s, il apparait que la solution doit se trouver autre part üôÅ.</p>
<p>On se repenche donc sur l&rsquo;√©nonc√© et sur le contenu du PDF pour y trouver des indices!</p>
<p>Dans l&rsquo;√©nonc√© on nous parle d&rsquo;un plan pour espionner un de nos coll√®gues √† son insu en posant une antenne chez lui, ce qui a fini de me mettre sur la piste est le titre du challenge: <code>Plombier du c√¢ble</code>.</p>
<br>
<p>En fait, je me suis souvenu d&rsquo;une technique que j&rsquo;avais vu sur un super <a href="https://github.com/PierreAdams/HackRF-One-French">article</a> de <a href="https://github.com/PierreAdams">Pierre Adams</a> et qui consistait √† capter et d√©coder les ondes √©lectromagn√©tiques √©mises par un c√¢ble <code>HDMI</code>. En effet chaque c√¢ble HDMI √©met ce que l&rsquo;on appelle des ondes <code>garbage</code> √† une fr√©quence qui lui est propre aux alentours de 295 kHz et oui, c&rsquo;est exactement le cas de notre signal!
Et ces ondes garbage, une fois d√©cod√©es, permettent d&rsquo;avoir un apercu en temps r√©el du contenu affich√© sur l&rsquo;√©cran!</p>
<p>Pour extraire le contenu de l&rsquo;√©cran il va falloir utiliser un logiciel appell√© <code>TempestSDR</code> et disposer de plusieurs informations:</p>
<ul>
<li>Le taux de rafraichissement de l&rsquo;√©cran</li>
<li>Sa r√©solution</li>
<li>La fr√©quence √† laquelle sont √©mises les ondes garbage</li>
</ul>
<p>Et comme expliqu√© pr√©c√©demment, le pdf fournis en d√©but du challenge nous donne le mod√©le de l&rsquo;√©cran utilis√© par notre victime: Un √©cran <code>HP 32s</code>. En allant chercher ce mod√®le on trouve toutes les informations dont nous avons besoin:</p>
<div>
    <img src="assets/config_ecran.png", style="max-width:100%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>On t√©l√©charge TempestSDR et apres avoir rentr√© la bonne configuration et lanc√© le d√©codage on peut voir l&rsquo;√©cran de notre victime, on y voit qu&rsquo;elle joue √† Tetris puis relis un document sur Word:</p>
<div>
    <img src="assets/tempest_main.png", style="max-width:100%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>Et au bout d&rsquo;une trentaine de secondes, on voit un QR code s&rsquo;afficher √† l&rsquo;√©cran:</p>
<div>
    <img src="assets/tempest_qr_code.png", style="max-width:100%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>Et vous le voyez venir, une fois d√©cod√©, ce QR code nous donnait le flag üòÄ.</p>
<h2 id="gestionnaire-de-perruche-de-sparrman">Gestionnaire de perruche de Sparrman</h2>
<h3 id="introduction-1">Introduction</h3>
<p>Ce challenge √©tait lui aussi tr√®s court mais vu le peu de write-up que j&rsquo;ai vu traitant de <code>GPS</code>, je pense qu&rsquo;en parler un peu ne fera pas de mal! L&rsquo;√©nonc√© commence comme ceci:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt">Le tonnerre continue de gronder farouchement dehors. Les ondes sonores des gouttes de pluie s&#39;√©crasant √† l&#39;ext√©rieur stimulent vos oreilles d√©licates. La soif vous empare.

Heureusement, vos synapses au sein de votre gigantesque cerveau sont tr√®s r√©actives : d&#39;un geste vif, vous interpellez le personnel afin d&#39;acqu√©rir une boisson revigorante, en esp√©rant revoir Simone.

L&#39;histoire n&#39;aurait √©videmment pas lieu si elle n&#39;√©tait pas entre les murs formant Le Procope, c&#39;est pour cela qu&#39;√† votre plus grande joie, vous voil√† face √† face avec madame DE BEAUVOIR. H√©las, celle-ci semble inqui√®te. Vous le savez si bien dor√©navant, celle-ci partage un amour poignant avec le grand Jean-Paul SAT, et ce dernier semble impliqu√© dans une certaine association.

L&#39;id√©e est simple, et par sa simplicit√©, elle devient difficile. Alexandre DUMAS, par sa taille, son charisme, et son g√©nie, viendra donc sous peu pour mettre au point la finalit√© d&#39;un plan afin de voler des donn√©es confidentielles.

Pour l&#39;heure, Simone a pu trouver une perruche, mais pas n&#39;importe laquelle ! Une perruche de Sparrman. La particularit√© de ce Cyanoramphus novaezelandiae est qu&#39;il est particuli√®rement familier, il est donc parfait pour suivre cet incorruptible corrupteur qu&#39;est Jean-Paul SAT, ainsi que les personnes qu&#39;ils fr√©quentent.

Pendant cette harangue, le sommeil vous gagne. √Ä votre r√©veil, vous entendez les derni√®res paroles : ¬´ ... seulement 8 millions d&#39;√©chantillonnages par seconde ! Du g√©nie n&#39;est-ce pas ? Pas la peine de m&#39;applaudir, vous allez me faire rougir ! Bon par contre du fait de la taille de l&#39;animal, du pelage inexistant, de son plumage, du ramage qui s&#39;en rapporte, le signal sera s√ªrement de mauvaise qualit√©. Mais vous avez des talents, j&#39;en suis certaine. Oh, et voil√† Alexandre qui arrive bient√¥t. Derni√®re pr√©cision : c&#39;est du 8 bits, en complexe. Bonne chance ! ¬ª

Elle se l√®ve pour √©treindre son honneur d√©cor√© Chevalier de la L√©gion d&#39;honneur, qui n&#39;est autre que ce tr√®s cher Alexandre DUMAS.

Vous voil√† dans un √©tat de disgr√¢ce. Une mission de taille, tr√®s technique, et aucune information, car vous avez le sommeil facile. Vous prenez votre d√©cai√®me caf√©, et sortant votre ordinateur personnel dont le poids et la taille permettent un transport facile notamment en ext√©rieur, vous vous lancez dans ce laborieux travail en qu√™te d&#39;un lieu o√π se trouverait le terminus du long et p√©rilleux voyage de notre perruche de Sparrman.
</code></pre></div><p>Il va donc s&rsquo;agir de retrouver un lieu en particulier. Comme pour un des autres challenges de <code>RF</code>, le titre de celui-ci est un acronyme, on sait qu&rsquo;il va falloir aller chercher du c√¥t√© du protocole <code>GPS</code>. Et en parcourant l&rsquo;√©nonc√© on arrive √† trouver les informations minimales sur notre signal: Il est √©chantillon√© √† <code>8Msps</code> et le type de donn√©e est au format 8 bit complexe (<code>IChar</code> dans gnuradio, c&rsquo;est le format d&rsquo;enregistrement notamment utilis√© par les <code>HackRF</code>). Et comme aucune fr√©quence ne nous est donn√©, on part du principe que le signal a √©t√© enregistr√© √† la fr√©quence GPS civile: <code>1 575,42 MHz</code>.</p>
<h3 id="rappel-sur-le-gps">Rappel sur le GPS</h3>
<p>Le syst√®me GPS se base sur un ensemble de 31 satellites (24 pour <code>GLONASS</code>, l&rsquo;√©quivalent russe). Chaque satellite poss√®de un unique code pseudo-random nomm√© <code>C/A</code> (<code>Coarse Acquisition</code>) qui permet au r√©cepteur d&rsquo;identifier correctement de quel satellite provient le signal qu&rsquo;il re√ßoit, la modulation utilis√©e est une modulation en phase (<code>BPSK</code>) fonction du nombre <code>C/A</code>. En pratique cette modulation rend le signal complexe √† d√©coder, si bien qu&rsquo;il apparait comme proche du bruit:</p>
<div>
    <img src="assets/perruche_fft.png", style="max-width:150%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>Le positionnement GPS fonctionne gr√¢ce √† au moins 3 satellites qui transmettent leurs position √† chaque instant pour que le r√©cepteur puisse en d√©duire sa position gr√¢ce √† un calcul de <code>Trilat√©ralisation</code>:</p>
<div>
    <img src="assets/gps_schema.png", style="max-width:90%;margin-left: 50%;transform: translateX(-50%);">
</div>
<p>Deux types de donn√©es sont transmises par le syst√®me GPS:</p>
<ul>
<li>
<p>Les <code>√âph√©m√©rides</code>, Les √©ph√©m√©rides GPS contiennent des informations pr√©cises sur l&rsquo;orbite, la position et la vitesse de chaque satellite GPS en temps r√©el. √âtant donn√© qu&rsquo;elles changent d&rsquo;heure en heure, les r√©cepteurs les mettent √† jour toutes les 30 minutes environ pour garantir une pr√©cision optimale dans les calculs de positionnement. Ce sont donc ces √©ph√©m√©rides qui permettent au r√©cepteur de se positionner et qui sont par cons√©quent √©mises en permanence (toutes les 30 secondes).</p>
</li>
<li>
<p>L'<code>Almanach</code>,  il s&rsquo;agit d&rsquo;un ensemble de donn√©es moins pr√©cises, mais plus g√©n√©rales, sur les positions orbitales et les heures de passage des satellites GPS, il contient aussi les codes pseudo-random de chaque satellite. L&rsquo;almanach est transmis √† une fr√©quence plus faible et est g√©n√©ralement mis √† jour une fois par jour par les satellites. L&rsquo;almanach peut √™tre conserv√© plusieurs semaines en m√©moire pour faire en sorte que le syst√®me fonctionne m√™me en cas de perte de signal. Et il peut aussi √™tre utilis√© pour trouver les meilleurs satellites pour √©tablir un positionnement plus rapide.</p>
</li>
</ul>
<p><strong>Remarque</strong>:
Au sol, il existe des stations de contr√¥le de l&rsquo;US Air Force, qui surveillent les satellites, calculent et leurs transmettent leurs √©ph√©m√©rides exactes qu&rsquo;il relayeront aux autres r√©cepteurs GPS. Les √©ph√©m√©rides sont redemand√©es par les satellites aux stations de contr√¥le toutes les heures et l&rsquo;almanach toutes les semaines.</p>
<h3 id="d√©codage-de-la-trame-gps">D√©codage de la trame GPS</h3>
<p>Bon maintenant, on peut en revenir au challenge üôÇ!
On poss√®de une trame GPS et il va falloir la d√©coder pour retrouver les coordonn√©es,Pour y arriver on va utiliser un programme sp√©cialis√© l√† dedans: <a href="https://gnss-sdr.org">GNSS-SDR</a>, qui par ailleurs propose un excellent tutoriel pour se familiariser avec le d√©codage GPS. <code>GNSS-SDR</code> va prendre en argument un fichier de config dans lequel nous devons mettre les caract√©ristiques du signal, et il est m√™me possible de traiter le signal avec divers filtres directement dans la config!
Voil√† la configuration √† utiliser et en dessous les explication:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt">[GNSS-SDR]

;######### GLOBAL OPTIONS ##################
GNSS-SDR.internal_fs_sps=2000000

;######### SIGNAL_SOURCE CONFIG ############
SignalSource.implementation=File_Signal_Source
SignalSource.filename=./brdc1210_23n.bin
SignalSource.item_type=ibyte
SignalSource.sampling_frequency=8000000
SignalSource.samples=0

;######### SIGNAL_CONDITIONER CONFIG ############
SignalConditioner.implementation=Signal_Conditioner
DataTypeAdapter.implementation=Ibyte_To_Complex
InputFilter.implementation=Pass_Through
InputFilter.item_type=gr_complex
Resampler.implementation=Direct_Resampler
Resampler.sample_freq_in=8000000
Resampler.sample_freq_out=2000000
Resampler.item_type=gr_complex

;######### CHANNELS GLOBAL CONFIG ############
Channels_1C.count=8
Channels.in_acquisition=8
Channel.signal=1C

;######### ACQUISITION GLOBAL CONFIG ############
Acquisition_1C.implementation=GPS_L1_CA_PCPS_Acquisition
Acquisition_1C.item_type=gr_complex
Acquisition_1C.pfa=0.01
Acquisition_1C.doppler_max=10000
Acquisition_1C.doppler_step=250
Acquisition_1C.blocking=true

;######### TRACKING GLOBAL CONFIG ############
Tracking_1C.implementation=GPS_L1_CA_DLL_PLL_Tracking
Tracking_1C.item_type=gr_complex
Tracking_1C.pll_bw_hz=40.0;
Tracking_1C.dll_bw_hz=4.0;

;######### TELEMETRY DECODER GPS CONFIG ############
TelemetryDecoder_1C.implementation=GPS_L1_CA_Telemetry_Decoder

;######### OBSERVABLES CONFIG ############
Observables.implementation=Hybrid_Observables

;######### PVT CONFIG ############
PVT.implementation=RTKLIB_PVT
PVT.positioning_mode=Single
PVT.output_rate_ms=100
PVT.display_rate_ms=500
PVT.iono_model=Broadcast
PVT.trop_model=Saastamoinen
PVT.flag_rtcm_server=true
PVT.flag_rtcm_tty_port=false
PVT.rtcm_dump_devname=/dev/pts/1
PVT.rtcm_tcp_port=2101
PVT.rtcm_MT1019_rate_ms=5000
PVT.rtcm_MT1077_rate_ms=1000
PVT.rinex_version=2
</code></pre></div><p><em>SIGNAL_SOURCE CONFIG:</em></p>
<p>Il s&rsquo;agit du bloc d&rsquo;entr√©e dans lequel on va mettre les caract√©ristiques de base de notre signal</p>
<ul>
<li><strong>SignalSource.filename</strong>, c&rsquo;est le chemin vers le fichier contenant le signal.</li>
<li><strong>SignalSource.item_type</strong>, c&rsquo;est le type de donn√©es utilis√©es par le signal, dans notre cas c&rsquo;est <code>ibyte</code>.</li>
<li><strong>SignalSource.sampling_frequency</strong>, c&rsquo;est la fr√©quence d&rsquo;√©chantillonage du signal.</li>
</ul>
<p><em>SIGNAL_CONDITIONER CONFIG:</em></p>
<p>Il s&rsquo;agit du bloc dans lequel on peut apporter des modifications √† notre signal. Il est constitu√© d&rsquo;un adaptateur, d&rsquo;un filtre et d&rsquo;un resampler</p>
<ul>
<li><strong>DataTypeAdapter.implementation</strong>, c&rsquo;est l√† qu&rsquo;on va sp√©cifier la conversion de donn√©es entre notre signal et le signal attendue par le reste de la config, on met donc <code>Ibyte_To_Complex</code>.</li>
<li><strong>InputFilter.implementation</strong>, c&rsquo;est le type de filtre que l&rsquo;on veut appliquer sur notre signal, dans notre cas on ne veut pas apporter de modifications donc on met <code>Pass_Through</code>.</li>
<li><strong>InputFilter.item_type</strong>, le type attendu par le filtre, comme dit pr√©c√©demment dans notre cas ce sera un <code>gr_complex</code>.</li>
<li><strong>Resampler.item_type</strong>, idem mais pour le resampler.</li>
<li><strong>Resampler.sample_freq_in</strong> et <strong>Resampler.sample_freq_out</strong>, ce sont la fr√©quence d&rsquo;entr√©e du resampler (dans notre cas 8Msps) et la fr√©quence attendue par GNSS-SDR (2Msps)</li>
</ul>
<p>Et voil√†! On ne touche pas au reste de la config.
On lance maintenant le programme comme ceci:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">gnss-sdr --config-file<span class="o">=</span>gnss.conf
</code></pre></div><p>Et au bout de 30 secondes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">Position at 2023-May-01 00:03:23.000000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394428877 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828917337 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> 18.036 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: 1.401 <span class="o">[</span>m/s<span class="o">]</span>, North: 0.788 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> -0.944 <span class="o">[</span>m/s<span class="o">]</span>
Position at 2023-May-01 00:03:23.500000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394405209 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828817604 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> 20.948 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: 1.613 <span class="o">[</span>m/s<span class="o">]</span>, North: 0.156 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> -1.256 <span class="o">[</span>m/s<span class="o">]</span>
Current receiver time: <span class="m">3</span> min <span class="m">43</span> s
New GPS NAV message received in channel 0: subframe <span class="m">2</span> from satellite GPS PRN <span class="m">28</span> <span class="o">(</span>Block IIR<span class="o">)</span>
New GPS NAV message received in channel 6: subframe <span class="m">2</span> from satellite GPS PRN <span class="m">22</span> <span class="o">(</span>Block IIR<span class="o">)</span>
New GPS NAV message received in channel 4: subframe <span class="m">2</span> from satellite GPS PRN <span class="m">31</span> <span class="o">(</span>Block IIR-M<span class="o">)</span>
New GPS NAV message received in channel 1: subframe <span class="m">2</span> from satellite GPS PRN <span class="m">21</span> <span class="o">(</span>Block IIR<span class="o">)</span>
Satellite GPS PRN <span class="m">22</span> <span class="o">(</span>Block IIR<span class="o">)</span> is not healthy, not used <span class="k">for</span> navigation
New GPS NAV message received in channel 2: subframe <span class="m">2</span> from satellite GPS PRN <span class="m">32</span> <span class="o">(</span>Block IIF<span class="o">)</span>
Position at 2023-May-01 00:03:24.000000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394328048 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828891534 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> -8.822 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: -0.514 <span class="o">[</span>m/s<span class="o">]</span>, North: 0.654 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> -0.813 <span class="o">[</span>m/s<span class="o">]</span>
Position at 2023-May-01 00:03:24.500000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394465683 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828845733 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> 10.952 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: -0.399 <span class="o">[</span>m/s<span class="o">]</span>, North: 1.080 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> -1.418 <span class="o">[</span>m/s<span class="o">]</span>
Current receiver time: <span class="m">3</span> min <span class="m">44</span> s
Position at 2023-May-01 00:03:25.000000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394700811 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828782262 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> 74.545 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: -2.136 <span class="o">[</span>m/s<span class="o">]</span>, North: -2.142 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> 5.140 <span class="o">[</span>m/s<span class="o">]</span>
Position at 2023-May-01 00:03:25.500000 UTC using <span class="m">4</span> observations is <span class="nv">Lat</span> <span class="o">=</span> -21.394658573 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Long</span> <span class="o">=</span> 165.828786711 <span class="o">[</span>deg<span class="o">]</span>, <span class="nv">Height</span> <span class="o">=</span> 75.674 <span class="o">[</span>m<span class="o">]</span>
Velocity: East: -1.080 <span class="o">[</span>m/s<span class="o">]</span>, North: 1.703 <span class="o">[</span>m/s<span class="o">]</span>, <span class="nv">Up</span> <span class="o">=</span> 0.097 <span class="o">[</span>m/s<span class="o">]</span>
Current receiver time: <span class="m">3</span> min <span class="m">45</span> s
</code></pre></div><p>On a des coordonn√©es üòÑ!</p>
<p>En se rendant aux <a href="https://www.google.com/maps/@-21.394405209,165.828817604,20.948z">coordonn√©es</a> sur Google Maps on tombe sur le Coll√®ge de Kouaoua en Nouvelle-Cal√©donie.</p>
<div>
    <img src="assets/flag.PNG", style="max-width:150%;margin-left: 50%;transform: translateX(-50%);">
</div>
<h2 id="conclusion">Conclusion</h2>
<p>Ces deux challenges de RF, bien qu&rsquo;assez peu techniques, √©taient vraiment int√©ressant. L&rsquo;un parce qu&rsquo;il faisait intervenir une m√©thode d&rsquo;espionnage vraiment tr√®s originale (peu r√©aliste mais bon) et l&rsquo;autre car il m&rsquo;aura permis de revoir le syst√®me GPS üôÉ.</p>
</div>
  
    <div class="mt-16">

</div>
  
</article>
      </div>
    </main><footer class="fixed left-0 bottom-0 w-full bg-base px-page-gutter">
  <div class="flex justify-center items-center h-footer-height">
    <div
      class="flex flex-row w-full max-w-content justify-between lowercase italic gap-3"
    >
      <nav>
        <ul class="flex text-md space-x-3 sm:space-x-6">
          
        </ul>
      </nav>
      <span class="text-muted hidden md:block">
        &copy;
        2024
        <a
          href="https://github.com/ntk148v/hugo-toigian"
          class="font-bold hover:underline"
          >hugo-toigian</a
        >
      </span>
      <div id="header-theme-button">
        <svg
          id="dark_mode_btn"
          class="hidden toolbox-btn"
          width="18px"
          height="18px"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
          />
        </svg>
        <svg
          id="light_mode_btn"
          class="hidden toolbox-btn"
          width="18px"
          height="18px"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"
          />
        </svg>
      </div>
    </div>
  </div>
</footer>
</body>
</html>
